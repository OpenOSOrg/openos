
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>3. Operating System Structure &amp; Unix/Linux &#8212; Introduction to Operating Systems</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Operating System Services" href="services.html" />
    <link rel="prev" title="2. Purpose of operating systems" href="purpose.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Operating Systems</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="pref.html">
                    Preface
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   1. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="purpose.html">
   2. Purpose of operating systems
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   3. Operating System Structure &amp; Unix/Linux
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="services.html">
   4. Operating System Services
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tools.html">
   6. Tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="peter-other.html">
   7. Other stuff from peter to integrate
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Scheduling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../scheduling/scheduling.html">
   10. Processor Scheduling
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Memory Management
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/intro.html">
   11. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/physmem.html">
   12. Memory management without translation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/virt-seg.html">
   13. Segmentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/virt-paging.html">
   14. Paging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/page-tables.html">
   15. Page Tables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/reclamation.html">
   16. Memory reclaiming algorithms.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/buffer-cache.html">
   17. Page Sizes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/pagefaults.html">
   18. Page Faults
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/misc.html">
   19. Conclusion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/realworld.html">
   20. Memory management in the real world
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/concl.html">
   21. Other Stuff
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/mm.html">
   22. EVERYTHING BELOW HERE IS CRAP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/Overview.html">
   24. Overview of MM
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../mm/peter-mm.html">
   25. Peter’s Virtual Memory chapter
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  File Systems
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../fs/intro.html">
   26. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fs/interface.html">
   27. Interface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fs/disklayout.html">
   28. File System Layout
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fs/kernelimp.html">
   29. Kernel implementation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Concurrency
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/sync.html">
   30. Intro Concurrency Synchronization and Deadlock
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/sharing.html">
   31. Cooperating Processes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/locking.html">
   32. Synchronization Primitives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/deadlock.html">
   33. Deadlocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/hardware_challenges.html">
   34. Challenges of Modern Hardware
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/linux_locking.html">
   35. Locking in the Linux Kernel
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sync/peter-syncro.html">
   36. Synchronization – Safety &amp; Sequencing - FROM PETER’s BOOK
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other Topics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../misc/OtherInro.html">
   37. Overview of other topics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sec/sec.html">
   38. Security
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../virt/virt.html">
   40. Virtualization and Cloud computing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="other.html">
   42. Other OS structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../devices/block-dev.html">
   43. I/O, Drivers, and DMA {#chap:blockdevs}
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../contributing/Contributing.html">
   44. Contributing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../misc/bib.html">
   45. Bibliography
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/okrieg/openos/main?urlpath=lab/tree/content/intro/structure.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://jupyterhub-redhat-ods-applications.apps.buaws-dev.idu6.p1.openshiftapps.com/hub/user-redirect/git-pull?repo=https%3A//github.com/okrieg/openos&urlpath=lab/tree/openos/content/intro/structure.ipynb&branch=main"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on JupyterHub"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_jupyterhub.svg">
  </span>
<span class="headerbtn__text-container">JupyterHub</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/okrieg/openos"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/okrieg/openos/issues/new?title=Issue%20on%20page%20%2Fintro/structure.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/okrieg/openos/edit/main/content/intro/structure.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/intro/structure.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#monolithic-os-structure">
   3.1. Monolithic OS structure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unix-and-linux">
   3.2. Unix and Linux
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Operating System Structure & Unix/Linux</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#monolithic-os-structure">
   3.1. Monolithic OS structure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unix-and-linux">
   3.2. Unix and Linux
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="operating-system-structure-unix-linux">
<span id="cont-gs-structure"></span><h1><span class="section-number">3. </span>Operating System Structure &amp; Unix/Linux<a class="headerlink" href="#operating-system-structure-unix-linux" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>OS structure, system calls, and interrupts</p></li>
<li><p>why we are doing Unix and linux</p></li>
<li><p>how OS comes up</p></li>
<li><p>how programs are loaded</p></li>
</ul>
<section id="monolithic-os-structure">
<h2><span class="section-number">3.1. </span>Monolithic OS structure<a class="headerlink" href="#monolithic-os-structure" title="Permalink to this headline">#</a></h2>
<p>As shown in figure <a class="reference internal" href="#os-struc"><span class="std std-ref">Monolitic Operating system structure</span></a>, most operating systems today have …</p>
<figure class="align-right" id="os-struc">
<a class="reference internal image-reference" href="../_images/osstructure.syscall.drawio.png"><img alt="../_images/osstructure.syscall.drawio.png" src="../_images/osstructure.syscall.drawio.png" style="width: 200pt;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3.1 </span><span class="caption-text">Monolitic Operating system structure</span><a class="headerlink" href="#os-struc" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-right" id="os-struc-services">
<a class="reference internal image-reference" href="../_images/osstructure.services.drawio.png"><img alt="../_images/osstructure.services.drawio.png" src="../_images/osstructure.services.drawio.png" style="width: 200pt;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3.2 </span><span class="caption-text">Core services</span><a class="headerlink" href="#os-struc-services" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="unix-and-linux">
<h2><span class="section-number">3.2. </span>Unix and Linux<a class="headerlink" href="#unix-and-linux" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>general principles of Unix and why we are using: Refer and steal some content from <a class="reference external" href="https://jappavoo.github.io/UndertheCovers/textbook/unix/intro.html#operating-systems-and-unix">here</a></p></li>
<li><p>everything is a file</p></li>
<li><p>discuss processes, libraries, dynamically loaded modules</p></li>
<li><p>importance open source</p></li>
</ul>
<div class="cell tag_output_scroll tag_remove-input docutils container">
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "e0775c41d494400ebf7ed3953f70e6b6", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</section>
</section>


<script type="application/vnd.jupyter.widget-state+json">
{"state": {"58cda6ae577e4c5f9bd6135f87b957d3": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_a8ba92aba7674bf3b3530c007bf45c2a", "msg_id": "", "outputs": [{"name": "stdout", "output_type": "stream", "text": "$ [[ -d mydir ]] && rm -rf mydir\r\n$     [[ -a myfile ]] && rm myfile\r\n$     [[ -a errors ]] && rm errors \r\n$     [[ -a mydate ]] && rm mydate\r\n$     [[ -a mynewdir ]] && rm -rf mynewdir\r\n$     [[ -a anotherfile ]] && rm anotherfile\r\n$     [[ -a mybin ]] && rm -rf  mybin\r\n$     [[ -a myinfo ]] && rm myinfo\r\n$ "}]}}, "5e109ee06ee342aea74454a99a5a3c20": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "20em", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": "scroll", "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "a8ba92aba7674bf3b3530c007bf45c2a": {"model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "model_name": "LayoutModel", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": "scroll", "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e0775c41d494400ebf7ed3953f70e6b6": {"model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "model_name": "OutputModel", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_5e109ee06ee342aea74454a99a5a3c20", "msg_id": "", "outputs": [{"name": "stdout", "output_type": "stream", "text": "$ man mmap\r\nMMAP(2)                    Linux Programmer's Manual                   MMAP(2)\r\n\r\nN\bNA\bAM\bME\bE\r\n       mmap, munmap - map or unmap files or devices into memory\r\n\r\nS\bSY\bYN\bNO\bOP\bPS\bSI\bIS\bS\r\n       #\b#i\bin\bnc\bcl\blu\bud\bde\be <\b<s\bsy\bys\bs/\b/m\bmm\bma\ban\bn.\b.h\bh>\b>\r\n\r\n       v\bvo\boi\bid\bd *\b*m\bmm\bma\bap\bp(\b(v\bvo\boi\bid\bd *\b*_\ba_\bd_\bd_\br,\b, s\bsi\biz\bze\be_\b_t\bt _\bl_\be_\bn_\bg_\bt_\bh,\b, i\bin\bnt\bt _\bp_\br_\bo_\bt,\b, i\bin\bnt\bt _\bf_\bl_\ba_\bg_\bs,\b,\r\n                  i\bin\bnt\bt _\bf_\bd,\b, o\bof\bff\bf_\b_t\bt _\bo_\bf_\bf_\bs_\be_\bt)\b);\b;\r\n       i\bin\bnt\bt m\bmu\bun\bnm\bma\bap\bp(\b(v\bvo\boi\bid\bd *\b*_\ba_\bd_\bd_\br,\b, s\bsi\biz\bze\be_\b_t\bt _\bl_\be_\bn_\bg_\bt_\bh)\b);\b;\r\n\r\n       See NOTES for information on feature test macro requirements.\r\n\r\nD\bDE\bES\bSC\bCR\bRI\bIP\bPT\bTI\bIO\bON\bN\r\n       m\bmm\bma\bap\bp()  creates a new mapping in the virtual address space of the call\u2010\r\n       ing process.  The starting address for the new mapping is specified  in\r\n       _\ba_\bd_\bd_\br.   The  _\bl_\be_\bn_\bg_\bt_\bh argument specifies the length of the mapping (which\r\n       must be greater than 0).\r\n\r\n       If _\ba_\bd_\bd_\br is NULL, then the kernel chooses the (page-aligned) address  at\r\n       which to create the mapping; this is the most portable method of creat\u2010\r\n       ing a new mapping.  If _\ba_\bd_\bd_\br is not NULL, then the kernel takes it as  a\r\n       hint about where to place the mapping; on Linux, the kernel will pick a\r\n       nearby page boundary (but always above or equal to the value  specified\r\n       by _\b/_\bp_\br_\bo_\bc_\b/_\bs_\by_\bs_\b/_\bv_\bm_\b/_\bm_\bm_\ba_\bp_\b__\bm_\bi_\bn_\b__\ba_\bd_\bd_\br) and attempt to create the mapping there.\r\n       If another mapping already exists there, the kernel picks a new address\r\n       that may or may not depend on the hint.  The address of the new mapping\r\n       is returned as the result of the call.\r\n\r\n       The contents of a file mapping (as opposed to an anonymous mapping; see\r\n       M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS  below),  are  initialized using _\bl_\be_\bn_\bg_\bt_\bh bytes starting at\r\n       offset _\bo_\bf_\bf_\bs_\be_\bt in the file (or other object) referred to by the file de\u2010\r\n       scriptor _\bf_\bd.  _\bo_\bf_\bf_\bs_\be_\bt must be a multiple of the page size as returned by\r\n       _\bs_\by_\bs_\bc_\bo_\bn_\bf_\b(_\b__\bS_\bC_\b__\bP_\bA_\bG_\bE_\b__\bS_\bI_\bZ_\bE_\b).\r\n\r\n       After the m\bmm\bma\bap\bp() call has returned, the file  descriptor,  _\bf_\bd,  can  be\r\n       closed immediately without invalidating the mapping.\r\n\r\n       The  _\bp_\br_\bo_\bt  argument describes the desired memory protection of the map\u2010\r\n       ping (and must not conflict with the open mode of the file).  It is ei\u2010\r\n       ther P\bPR\bRO\bOT\bT_\b_N\bNO\bON\bNE\bE or the bitwise OR of one or more of the following flags:\r\n\r\n       P\bPR\bRO\bOT\bT_\b_E\bEX\bXE\bEC\bC  Pages may be executed.\r\n\r\n       P\bPR\bRO\bOT\bT_\b_R\bRE\bEA\bAD\bD  Pages may be read.\r\n\r\n       P\bPR\bRO\bOT\bT_\b_W\bWR\bRI\bIT\bTE\bE Pages may be written.\r\n\r\n       P\bPR\bRO\bOT\bT_\b_N\bNO\bON\bNE\bE  Pages may not be accessed.\r\n\r\n       The  _\bf_\bl_\ba_\bg_\bs argument determines whether updates to the mapping are visi\u2010\r\n       ble to other processes mapping the same region, and whether updates are\r\n       carried through to the underlying file.  This behavior is determined by\r\n       including exactly one of the following values in _\bf_\bl_\ba_\bg_\bs:\r\n\r\n       M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD\r\n              Share this mapping.  Updates to the mapping are visible to other\r\n              processes  mapping  the  same  region, and (in the case of file-\r\n              backed mappings) are carried through  to  the  underlying  file.\r\n              (To  precisely  control  when updates are carried through to the\r\n              underlying file requires the use of m\bms\bsy\byn\bnc\bc(2).)\r\n\r\n       M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD_\b_V\bVA\bAL\bLI\bID\bDA\bAT\bTE\bE (since Linux 4.15)\r\n              This flag provides the same behavior as M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD  except  that\r\n              M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD mappings ignore unknown flags in _\bf_\bl_\ba_\bg_\bs.  By contrast,\r\n              when creating a mapping using  M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD_\b_V\bVA\bAL\bLI\bID\bDA\bAT\bTE\bE,  the  kernel\r\n              verifies  all  passed flags are known and fails the mapping with\r\n              the error E\bEO\bOP\bPN\bNO\bOT\bTS\bSU\bUP\bPP\bP for unknown flags.  This  mapping  type  is\r\n              also  required  to  be  able  to  use  some mapping flags (e.g.,\r\n              M\bMA\bAP\bP_\b_S\bSY\bYN\bNC\bC).\r\n\r\n       M\bMA\bAP\bP_\b_P\bPR\bRI\bIV\bVA\bAT\bTE\bE\r\n              Create a private copy-on-write mapping.  Updates to the  mapping\r\n              are  not  visible  to other processes mapping the same file, and\r\n              are not carried through to the underlying file.  It is  unspeci\u2010\r\n              fied  whether changes made to the file after the m\bmm\bma\bap\bp() call are\r\n              visible in the mapped region.\r\n\r\n       Both M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD and  M\bMA\bAP\bP_\b_P\bPR\bRI\bIV\bVA\bAT\bTE\bE  are  described  in  POSIX.1-2001  and\r\n       POSIX.1-2008.  M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD_\b_V\bVA\bAL\bLI\bID\bDA\bAT\bTE\bE is a Linux extension.\r\n\r\n       In addition, zero or more of the following values can be ORed in _\bf_\bl_\ba_\bg_\bs:\r\n\r\n       M\bMA\bAP\bP_\b_3\b32\b2B\bBI\bIT\bT (since Linux 2.4.20, 2.6)\r\n              Put  the  mapping  into the first 2 Gigabytes of the process ad\u2010\r\n              dress space.  This flag is supported only on x86-64, for  64-bit\r\n              programs.   It  was added to allow thread stacks to be allocated\r\n              somewhere in the first 2 GB of memory, so as to improve context-\r\n              switch  performance  on  some  early  64-bit processors.  Modern\r\n              x86-64 processors no longer have this  performance  problem,  so\r\n              use  of  this  flag  is  not  required  on  those  systems.  The\r\n              M\bMA\bAP\bP_\b_3\b32\b2B\bBI\bIT\bT flag is ignored when M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD is set.\r\n\r\n       M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bN\r\n              Synonym for M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS.  Deprecated.\r\n\r\n       M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS\r\n              The mapping is not backed by any file; its contents are initial\u2010\r\n              ized  to zero.  The _\bf_\bd argument is ignored; however, some imple\u2010\r\n              mentations require _\bf_\bd to be -1 if M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS (or M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bN) is\r\n              specified,  and  portable  applications should ensure this.  The\r\n              _\bo_\bf_\bf_\bs_\be_\bt argument should be zero.  The  use  of  M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS  in\r\n              conjunction  with  M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD  is  supported on Linux only since\r\n              kernel 2.4.\r\n\r\n       M\bMA\bAP\bP_\b_D\bDE\bEN\bNY\bYW\bWR\bRI\bIT\bTE\bE\r\n              This flag is ignored.  (Long ago\u2014Linux 2.0 and  earlier\u2014it  sig\u2010\r\n              naled  that attempts to write to the underlying file should fail\r\n              with E\bET\bTX\bXT\bTB\bBU\bUS\bSY\bY.  But this was a source of  denial-of-service  at\u2010\r\n              tacks.)\r\n\r\n       M\bMA\bAP\bP_\b_E\bEX\bXE\bEC\bCU\bUT\bTA\bAB\bBL\bLE\bE\r\n              This flag is ignored.\r\n\r\n       M\bMA\bAP\bP_\b_F\bFI\bIL\bLE\bE\r\n              Compatibility flag.  Ignored.\r\n\r\n       M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD\r\n              Don't  interpret  _\ba_\bd_\bd_\br  as  a hint: place the mapping at exactly\r\n              that address.  _\ba_\bd_\bd_\br must be suitably aligned: for most architec\u2010\r\n              tures  a  multiple of the page size is sufficient; however, some\r\n              architectures may impose additional restrictions.  If the memory\r\n              region  specified by _\ba_\bd_\bd_\br and _\bl_\be_\bn overlaps pages of any existing\r\n              mapping(s), then the overlapped part of the existing  mapping(s)\r\n              will  be  discarded.   If  the specified address cannot be used,\r\n              m\bmm\bma\bap\bp() will fail.\r\n\r\n              Software that aspires to be portable should  use  the  M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD\r\n              flag  with  care,  keeping  in  mind  that the exact layout of a\r\n              process's memory mappings is allowed to change significantly be\u2010\r\n              tween  kernel versions, C library versions, and operating system\r\n              releases.  _\bC_\ba_\br_\be_\bf_\bu_\bl_\bl_\by _\br_\be_\ba_\bd _\bt_\bh_\be _\bd_\bi_\bs_\bc_\bu_\bs_\bs_\bi_\bo_\bn _\bo_\bf _\bt_\bh_\bi_\bs _\bf_\bl_\ba_\bg _\bi_\bn _\bN_\bO_\bT_\bE_\bS_\b!\r\n\r\n       M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD_\b_N\bNO\bOR\bRE\bEP\bPL\bLA\bAC\bCE\bE (since Linux 4.17)\r\n              This flag provides behavior that is similar  to  M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD  with\r\n              respect   to   the   _\ba_\bd_\bd_\br   enforcement,  but  differs  in  that\r\n              M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD_\b_N\bNO\bOR\bRE\bEP\bPL\bLA\bAC\bCE\bE never clobbers a preexisting  mapped  range.\r\n              If  the  requested range would collide with an existing mapping,\r\n              then this call fails with  the  error  E\bEE\bEX\bXI\bIS\bST\bT.\b.   This  flag  can\r\n              therefore  be used as a way to atomically (with respect to other\r\n              threads) attempt to map an address range: one thread  will  suc\u2010\r\n              ceed; all others will report failure.\r\n\r\n              Note   that   older   kernels   which   do   not  recognize  the\r\n              M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD_\b_N\bNO\bOR\bRE\bEP\bPL\bLA\bAC\bCE\bE flag will typically (upon detecting a colli\u2010\r\n              sion  with a preexisting mapping) fall back to a \"non-M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD\"\b\"\r\n              t\bty\byp\bpe\be o\bof\bf b\bbe\beh\bha\bav\bvi\bio\bor\br:\b: they will return an address that is  different\r\n              from  the  requested  address.   Therefore,  backward-compatible\r\n              software should check the returned address against the requested\r\n              address.\r\n\r\n       M\bMA\bAP\bP_\b_G\bGR\bRO\bOW\bWS\bSD\bDO\bOW\bWN\bN\r\n              This  flag  is used for stacks.  It indicates to the kernel vir\u2010\r\n              tual memory system that the mapping should  extend  downward  in\r\n              memory.   The  return  address is one page lower than the memory\r\n              area that is actually created in the process's  virtual  address\r\n              space.   Touching  an address in the \"guard\" page below the map\u2010\r\n              ping will cause the mapping to grow by a page.  This growth  can\r\n              be repeated until the mapping grows to within a page of the high\r\n              end of the next lower  mapping,  at  which  point  touching  the\r\n              \"guard\" page will result in a S\bSI\bIG\bGS\bSE\bEG\bGV\bV signal.\r\n\r\n       M\bMA\bAP\bP_\b_H\bHU\bUG\bGE\bET\bTL\bLB\bB (since Linux 2.6.32)\r\n              Allocate  the  mapping using \"huge pages.\"  See the Linux kernel\r\n              source  file  _\bD_\bo_\bc_\bu_\bm_\be_\bn_\bt_\ba_\bt_\bi_\bo_\bn_\b/_\ba_\bd_\bm_\bi_\bn_\b-_\bg_\bu_\bi_\bd_\be_\b/_\bm_\bm_\b/_\bh_\bu_\bg_\be_\bt_\bl_\bb_\bp_\ba_\bg_\be_\b._\br_\bs_\bt   for\r\n              further information, as well as NOTES, below.\r\n\r\n       M\bMA\bAP\bP_\b_H\bHU\bUG\bGE\bE_\b_2\b2M\bMB\bB, M\bMA\bAP\bP_\b_H\bHU\bUG\bGE\bE_\b_1\b1G\bGB\bB (since Linux 3.8)\r\n              Used  in  conjunction  with  M\bMA\bAP\bP_\b_H\bHU\bUG\bGE\bET\bTL\bLB\bB  to  select alternative\r\n              hugetlb page sizes (respectively, 2 MB and 1 GB) on systems that\r\n              support multiple hugetlb page sizes.\r\n\r\n              More  generally, the desired huge page size can be configured by\r\n              encoding the base-2 logarithm of the desired page  size  in  the\r\n              six bits at the offset M\bMA\bAP\bP_\b_H\bHU\bUG\bGE\bE_\b_S\bSH\bHI\bIF\bFT\bT.  (A value of zero in this\r\n              bit field provides the default huge page size; the default  huge\r\n              page  size  can be discovered via the _\bH_\bu_\bg_\be_\bp_\ba_\bg_\be_\bs_\bi_\bz_\be field exposed\r\n              by _\b/_\bp_\br_\bo_\bc_\b/_\bm_\be_\bm_\bi_\bn_\bf_\bo.)  Thus, the above two  constants  are  defined\r\n              as:\r\n\r\n                  #define MAP_HUGE_2MB    (21 << MAP_HUGE_SHIFT)\r\n                  #define MAP_HUGE_1GB    (30 << MAP_HUGE_SHIFT)\r\n\r\n              The  range  of  huge page sizes that are supported by the system\r\n              can be discovered by listing  the  subdirectories  in  _\b/_\bs_\by_\bs_\b/_\bk_\be_\br_\b\u2010\r\n              _\bn_\be_\bl_\b/_\bm_\bm_\b/_\bh_\bu_\bg_\be_\bp_\ba_\bg_\be_\bs.\r\n\r\n       M\bMA\bAP\bP_\b_L\bLO\bOC\bCK\bKE\bED\bD (since Linux 2.5.37)\r\n              Mark the mapped region to be locked in the same way as m\bml\blo\boc\bck\bk(2).\r\n              This implementation will try to populate  (prefault)  the  whole\r\n              range  but  the  m\bmm\bma\bap\bp()  call  doesn't  fail with E\bEN\bNO\bOM\bME\bEM\bM if this\r\n              fails.  Therefore major faults might happen later  on.   So  the\r\n              semantic  is  not  as strong as m\bml\blo\boc\bck\bk(2).  One should use m\bmm\bma\bap\bp()\r\n              plus m\bml\blo\boc\bck\bk(2) when major faults are  not  acceptable  after  the\r\n              initialization  of  the mapping.  The M\bMA\bAP\bP_\b_L\bLO\bOC\bCK\bKE\bED\bD flag is ignored\r\n              in older kernels.\r\n\r\n       M\bMA\bAP\bP_\b_N\bNO\bON\bNB\bBL\bLO\bOC\bCK\bK (since Linux 2.5.46)\r\n              This flag is meaningful only in conjunction  with  M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE.\r\n              Don't  perform  read-ahead:  create page tables entries only for\r\n              pages that are already present in RAM.  Since Linux 2.6.23, this\r\n              flag  causes  M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE to do nothing.  One day, the combina\u2010\r\n              tion of M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE and M\bMA\bAP\bP_\b_N\bNO\bON\bNB\bBL\bLO\bOC\bCK\bK may be reimplemented.\r\n\r\n       M\bMA\bAP\bP_\b_N\bNO\bOR\bRE\bES\bSE\bER\bRV\bVE\bE\r\n              Do not reserve swap space for this mapping.  When swap space  is\r\n              reserved,  one  has  the guarantee that it is possible to modify\r\n              the mapping.  When swap space is  not  reserved  one  might  get\r\n              S\bSI\bIG\bGS\bSE\bEG\bGV\bV  upon  a  write if no physical memory is available.  See\r\n              also the discussion of the  file  _\b/_\bp_\br_\bo_\bc_\b/_\bs_\by_\bs_\b/_\bv_\bm_\b/_\bo_\bv_\be_\br_\bc_\bo_\bm_\bm_\bi_\bt_\b__\bm_\be_\bm_\bo_\br_\by\r\n              in  p\bpr\bro\boc\bc(5).   In  kernels before 2.6, this flag had effect only\r\n              for private writable mappings.\r\n\r\n       M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE (since Linux 2.5.46)\r\n              Populate (prefault) page tables for a mapping.  For a file  map\u2010\r\n              ping, this causes read-ahead on the file.  This will help to re\u2010\r\n              duce blocking on page faults later.  M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE  is  supported\r\n              for private mappings only since Linux 2.6.23.\r\n\r\n       M\bMA\bAP\bP_\b_S\bST\bTA\bAC\bCK\bK (since Linux 2.6.27)\r\n              Allocate  the  mapping  at  an address suitable for a process or\r\n              thread stack.\r\n\r\n              This flag is currently a no-op on Linux.  However, by  employing\r\n              this  flag,  applications can ensure that they transparently ob\u2010\r\n              tain support if the flag is implemented in the future.  Thus, it\r\n              is  used  in the glibc threading implementation to allow for the\r\n              fact that some architectures may (later) require special  treat\u2010\r\n              ment  for  stack  allocations.   A further reason to employ this\r\n              flag is portability: M\bMA\bAP\bP_\b_S\bST\bTA\bAC\bCK\bK exists (and  has  an  effect)  on\r\n              some other systems (e.g., some of the BSDs).\r\n\r\n       M\bMA\bAP\bP_\b_S\bSY\bYN\bNC\bC (since Linux 4.15)\r\n              This flag is available only with the M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD_\b_V\bVA\bAL\bLI\bID\bDA\bAT\bTE\bE mapping\r\n              type; mappings of type  M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD  will  silently  ignore  this\r\n              flag.  This flag is supported only for files supporting DAX (di\u2010\r\n              rect mapping of persistent memory).  For other files, creating a\r\n              mapping with this flag results in an E\bEO\bOP\bPN\bNO\bOT\bTS\bSU\bUP\bPP\bP error.\r\n\r\n              Shared  file  mappings with this flag provide the guarantee that\r\n              while some memory is writably mapped in the address space of the\r\n              process,  it will be visible in the same file at the same offset\r\n              even after the system crashes or is  rebooted.   In  conjunction\r\n              with  the  use  of  appropriate  CPU instructions, this provides\r\n              users of such mappings with a more efficient way of making  data\r\n              modifications persistent.\r\n\r\n       M\bMA\bAP\bP_\b_U\bUN\bNI\bIN\bNI\bIT\bTI\bIA\bAL\bLI\bIZ\bZE\bED\bD (since Linux 2.6.33)\r\n              Don't  clear  anonymous pages.  This flag is intended to improve\r\n              performance on embedded devices.  This flag is honored  only  if\r\n              the  kernel was configured with the C\bCO\bON\bNF\bFI\bIG\bG_\b_M\bMM\bMA\bAP\bP_\b_A\bAL\bLL\bLO\bOW\bW_\b_U\bUN\bNI\bIN\bNI\bIT\bTI\bIA\bAL\bL\u2010\b\u2010\r\n              I\bIZ\bZE\bED\bD option.  Because of the security implications, that  option\r\n              is  normally  enabled  only  on  embedded devices (i.e., devices\r\n              where one has complete control of the contents of user memory).\r\n\r\n       Of the above flags, only M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD is  specified  in  POSIX.1-2001  and\r\n       POSIX.1-2008.  However, most systems also support M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS (or its\r\n       synonym M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bN).\r\n\r\n       Memory mapped by m\bmm\bma\bap\bp() is preserved across f\bfo\bor\brk\bk(2), with the same  at\u2010\r\n       tributes.\r\n\r\n       A file is mapped in multiples of the page size.  For a file that is not\r\n       a multiple of the page  size,  the  remaining  memory  is  zeroed  when\r\n       mapped, and writes to that region are not written out to the file.  The\r\n       effect of changing the size of the underlying file of a mapping on  the\r\n       pages  that  correspond  to added or removed regions of the file is un\u2010\r\n       specified.\r\n\r\n   m\bmu\bun\bnm\bma\bap\bp(\b()\b)\r\n       The m\bmu\bun\bnm\bma\bap\bp() system call deletes the mappings for the specified address\r\n       range,  and  causes further references to addresses within the range to\r\n       generate invalid memory references.  The region is  also  automatically\r\n       unmapped  when  the  process is terminated.  On the other hand, closing\r\n       the file descriptor does not unmap the region.\r\n\r\n       The address _\ba_\bd_\bd_\br must be a multiple of the page size (but  _\bl_\be_\bn_\bg_\bt_\bh  need\r\n       not  be).   All  pages containing a part of the indicated range are un\u2010\r\n       mapped, and subsequent references to these pages will generate S\bSI\bIG\bGS\bSE\bEG\bGV\bV.\r\n       It  is  not an error if the indicated range does not contain any mapped\r\n       pages.\r\n\r\nR\bRE\bET\bTU\bUR\bRN\bN V\bVA\bAL\bLU\bUE\bE\r\n       On success, m\bmm\bma\bap\bp() returns a pointer to the mapped area.  On error, the\r\n       value  M\bMA\bAP\bP_\b_F\bFA\bAI\bIL\bLE\bED\bD  (that is, _\b(_\bv_\bo_\bi_\bd _\b*_\b) _\b-_\b1) is returned, and _\be_\br_\br_\bn_\bo is set\r\n       to indicate the cause of the error.\r\n\r\n       On success, m\bmu\bun\bnm\bma\bap\bp() returns 0.  On failure, it returns -1,  and  _\be_\br_\br_\bn_\bo\r\n       is set to indicate the cause of the error (probably to E\bEI\bIN\bNV\bVA\bAL\bL).\r\n\r\nE\bER\bRR\bRO\bOR\bRS\bS\r\n       E\bEA\bAC\bCC\bCE\bES\bS A  file descriptor refers to a non-regular file.  Or a file map\u2010\r\n              ping was  requested,  but  _\bf_\bd  is  not  open  for  reading.   Or\r\n              M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD  was  requested  and P\bPR\bRO\bOT\bT_\b_W\bWR\bRI\bIT\bTE\bE is set, but _\bf_\bd is not\r\n              open in read/write (O\bO_\b_R\bRD\bDW\bWR\bR) mode.  Or P\bPR\bRO\bOT\bT_\b_W\bWR\bRI\bIT\bTE\bE is set, but the\r\n              file is append-only.\r\n\r\n       E\bEA\bAG\bGA\bAI\bIN\bN The  file  has  been  locked, or too much memory has been locked\r\n              (see s\bse\bet\btr\brl\bli\bim\bmi\bit\bt(2)).\r\n\r\n       E\bEB\bBA\bAD\bDF\bF  _\bf_\bd is not a valid file descriptor  (and  M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS  was  not\r\n              set).\r\n\r\n       E\bEE\bEX\bXI\bIS\bST\bT M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD_\b_N\bNO\bOR\bRE\bEP\bPL\bLA\bAC\bCE\bE  was  specified in _\bf_\bl_\ba_\bg_\bs, and the range cov\u2010\r\n              ered by _\ba_\bd_\bd_\br and _\bl_\be_\bn_\bg_\bt_\bh clashes with an existing mapping.\r\n\r\n       E\bEI\bIN\bNV\bVA\bAL\bL We don't like _\ba_\bd_\bd_\br, _\bl_\be_\bn_\bg_\bt_\bh, or _\bo_\bf_\bf_\bs_\be_\bt (e.g., they are too large,\r\n              or not aligned on a page boundary).\r\n\r\n       E\bEI\bIN\bNV\bVA\bAL\bL (since Linux 2.6.12) _\bl_\be_\bn_\bg_\bt_\bh was 0.\r\n\r\n       E\bEI\bIN\bNV\bVA\bAL\bL _\bf_\bl_\ba_\bg_\bs    contained    none   of   M\bMA\bAP\bP_\b_P\bPR\bRI\bIV\bVA\bAT\bTE\bE,   M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD   or\r\n              M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD_\b_V\bVA\bAL\bLI\bID\bDA\bAT\bTE\bE.\r\n\r\n       E\bEN\bNF\bFI\bIL\bLE\bE The system-wide limit on the total number of open files has been\r\n              reached.\r\n\r\n       E\bEN\bNO\bOD\bDE\bEV\bV The underlying filesystem of the specified file does not support\r\n              memory mapping.\r\n\r\n       E\bEN\bNO\bOM\bME\bEM\bM No memory is available.\r\n\r\n       E\bEN\bNO\bOM\bME\bEM\bM The process's maximum number of mappings  would  have  been  ex\u2010\r\n              ceeded.   This error can also occur for m\bmu\bun\bnm\bma\bap\bp(), when unmapping\r\n              a region in the middle of an existing mapping,  since  this  re\u2010\r\n              sults in two smaller mappings on either side of the region being\r\n              unmapped.\r\n\r\n       E\bEN\bNO\bOM\bME\bEM\bM (since Linux 4.7) The process's R\bRL\bLI\bIM\bMI\bIT\bT_\b_D\bDA\bAT\bTA\bA limit, described  in\r\n              g\bge\bet\btr\brl\bli\bim\bmi\bit\bt(2), would have been exceeded.\r\n\r\n       E\bEO\bOV\bVE\bER\bRF\bFL\bLO\bOW\bW\r\n              On  32-bit  architecture  together with the large file extension\r\n              (i.e., using 64-bit _\bo_\bf_\bf_\b__\bt): the number of pages used for  _\bl_\be_\bn_\bg_\bt_\bh\r\n              plus  number  of  pages  used for _\bo_\bf_\bf_\bs_\be_\bt would overflow _\bu_\bn_\bs_\bi_\bg_\bn_\be_\bd\r\n              _\bl_\bo_\bn_\bg (32 bits).\r\n\r\n       E\bEP\bPE\bER\bRM\bM  The _\bp_\br_\bo_\bt argument asks for P\bPR\bRO\bOT\bT_\b_E\bEX\bXE\bEC\bC but the mapped area belongs\r\n              to a file on a filesystem that was mounted no-exec.\r\n\r\n       E\bEP\bPE\bER\bRM\bM  The operation was prevented by a file seal; see f\bfc\bcn\bnt\btl\bl(2).\r\n\r\n       E\bET\bTX\bXT\bTB\bBS\bSY\bY\r\n              M\bMA\bAP\bP_\b_D\bDE\bEN\bNY\bYW\bWR\bRI\bIT\bTE\bE was set but the object specified by _\bf_\bd is open for\r\n              writing.\r\n\r\n       Use of a mapped region can result in these signals:\r\n\r\n       S\bSI\bIG\bGS\bSE\bEG\bGV\bV\r\n              Attempted write into a region mapped as read-only.\r\n\r\n       S\bSI\bIG\bGB\bBU\bUS\bS Attempted access to a portion of the buffer that does not corre\u2010\r\n              spond  to the file (for example, beyond the end of the file, in\u2010\r\n              cluding the case where another process has truncated the file).\r\n\r\nA\bAT\bTT\bTR\bRI\bIB\bBU\bUT\bTE\bES\bS\r\n       For an  explanation  of  the  terms  used  in  this  section,  see  a\bat\bt\u2010\b\u2010\r\n       t\btr\bri\bib\bbu\but\bte\bes\bs(7).\r\n\r\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n       \u2502I\bIn\bnt\bte\ber\brf\bfa\bac\bce\be          \u2502 A\bAt\btt\btr\bri\bib\bbu\but\bte\be     \u2502 V\bVa\bal\blu\bue\be   \u2502\r\n       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n       \u2502m\bmm\bma\bap\bp(), m\bmu\bun\bnm\bma\bap\bp()   \u2502 Thread safety \u2502 MT-Safe \u2502\r\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\nC\bCO\bON\bNF\bFO\bOR\bRM\bMI\bIN\bNG\bG T\bTO\bO\r\n       POSIX.1-2001, POSIX.1-2008, SVr4, 4.4BSD.\r\n\r\nA\bAV\bVA\bAI\bIL\bLA\bAB\bBI\bIL\bLI\bIT\bTY\bY\r\n       On POSIX systems on which m\bmm\bma\bap\bp(), m\bms\bsy\byn\bnc\bc(2), and m\bmu\bun\bnm\bma\bap\bp() are available,\r\n       _\b_P\bPO\bOS\bSI\bIX\bX_\b_M\bMA\bAP\bPP\bPE\bED\bD_\b_F\bFI\bIL\bLE\bES\bS is defined in _\b<_\bu_\bn_\bi_\bs_\bt_\bd_\b._\bh_\b> to a value greater than 0.\r\n       (See also s\bsy\bys\bsc\bco\bon\bnf\bf(3).)\r\n\r\nN\bNO\bOT\bTE\bES\bS\r\n       On   some  hardware  architectures  (e.g.,  i386),  P\bPR\bRO\bOT\bT_\b_W\bWR\bRI\bIT\bTE\bE  implies\r\n       P\bPR\bRO\bOT\bT_\b_R\bRE\bEA\bAD\bD.  It is  architecture  dependent  whether  P\bPR\bRO\bOT\bT_\b_R\bRE\bEA\bAD\bD  implies\r\n       P\bPR\bRO\bOT\bT_\b_E\bEX\bXE\bEC\bC  or  not.   Portable  programs should always set P\bPR\bRO\bOT\bT_\b_E\bEX\bXE\bEC\bC if\r\n       they intend to execute code in the new mapping.\r\n\r\n       The portable way to create a mapping is to specify _\ba_\bd_\bd_\br  as  0  (NULL),\r\n       and  omit  M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD  from _\bf_\bl_\ba_\bg_\bs.  In this case, the system chooses the\r\n       address for the mapping; the address is chosen so as  not  to  conflict\r\n       with any existing mapping, and will not be 0.  If the M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD flag is\r\n       specified, and _\ba_\bd_\bd_\br is 0 (NULL), then the  mapped  address  will  be  0\r\n       (NULL).\r\n\r\n       Certain  _\bf_\bl_\ba_\bg_\bs  constants  are  defined  only  if suitable feature test\r\n       macros are defined (possibly by default):  _\b_D\bDE\bEF\bFA\bAU\bUL\bLT\bT_\b_S\bSO\bOU\bUR\bRC\bCE\bE  with  glibc\r\n       2.19  or  later;  or _\b_B\bBS\bSD\bD_\b_S\bSO\bOU\bUR\bRC\bCE\bE or _\b_S\bSV\bVI\bID\bD_\b_S\bSO\bOU\bUR\bRC\bCE\bE in glibc 2.19 and ear\u2010\r\n       lier.  (Employing _\b_G\bGN\bNU\bU_\b_S\bSO\bOU\bUR\bRC\bCE\bE also suffices, and requiring  that  macro\r\n       specifically  would  have  been more logical, since these flags are all\r\n       Linux-specific.)  The relevant flags are: M\bMA\bAP\bP_\b_3\b32\b2B\bBI\bIT\bT, M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bNY\bYM\bMO\bOU\bUS\bS (and\r\n       the   synonym   M\bMA\bAP\bP_\b_A\bAN\bNO\bON\bN),   M\bMA\bAP\bP_\b_D\bDE\bEN\bNY\bYW\bWR\bRI\bIT\bTE\bE,  M\bMA\bAP\bP_\b_E\bEX\bXE\bEC\bCU\bUT\bTA\bAB\bBL\bLE\bE,  M\bMA\bAP\bP_\b_F\bFI\bIL\bLE\bE,\r\n       M\bMA\bAP\bP_\b_G\bGR\bRO\bOW\bWS\bSD\bDO\bOW\bWN\bN, M\bMA\bAP\bP_\b_H\bHU\bUG\bGE\bET\bTL\bLB\bB,  M\bMA\bAP\bP_\b_L\bLO\bOC\bCK\bKE\bED\bD,  M\bMA\bAP\bP_\b_N\bNO\bON\bNB\bBL\bLO\bOC\bCK\bK,  M\bMA\bAP\bP_\b_N\bNO\bOR\bRE\bES\bSE\bER\bRV\bVE\bE,\r\n       M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE, and M\bMA\bAP\bP_\b_S\bST\bTA\bAC\bCK\bK.\r\n\r\n       An  application  can  determine  which pages of a mapping are currently\r\n       resident in the buffer/page cache using m\bmi\bin\bnc\bco\bor\bre\be(2).\r\n\r\n   U\bUs\bsi\bin\bng\bg M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD s\bsa\baf\bfe\bel\bly\by\r\n       The only safe use for M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD is where the address range specified by\r\n       _\ba_\bd_\bd_\br  and  _\bl_\be_\bn_\bg_\bt_\bh was previously reserved using another mapping; other\u2010\r\n       wise, the use of M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD is hazardous  because  it  forcibly  removes\r\n       preexisting  mappings,  making  it  easy for a multithreaded process to\r\n       corrupt its own address space.\r\n\r\n       For example, suppose that thread A looks through  _\b/_\bp_\br_\bo_\bc_\b/_\b<_\bp_\bi_\bd_\b>_\b/_\bm_\ba_\bp_\bs  and\r\n       in  order  to  locate  an  unused  address  range that it can map using\r\n       M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD, while thread B simultaneously acquires part or all  of  that\r\n       same    address    range.    When   thread   A   subsequently   employs\r\n       m\bmm\bma\bap\bp(\b(M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD)\b), it will effectively clobber the mapping that thread  B\r\n       created.   In  this  scenario,  thread  B need not create a mapping di\u2010\r\n       rectly; simply making a library call that, internally,  uses  d\bdl\blo\bop\bpe\ben\bn(3)\r\n       to  load  some  other shared library, will suffice.  The d\bdl\blo\bop\bpe\ben\bn(3) call\r\n       will map the library into the process's  address  space.   Furthermore,\r\n       almost  any  library  call may be implemented in a way that adds memory\r\n       mappings to the address space, either with this technique, or by simply\r\n       allocating  memory.   Examples  include b\bbr\brk\bk(2), m\bma\bal\bll\blo\boc\bc(3), p\bpt\bth\bhr\bre\bea\bad\bd_\b_c\bcr\bre\be\u2010\b\u2010\r\n       a\bat\bte\be(3), and the PAM libraries \u27e8http://www.linux-pam.org\u27e9.\r\n\r\n       Since Linux 4.17, a multithreaded program can use  the  M\bMA\bAP\bP_\b_F\bFI\bIX\bXE\bED\bD_\b_N\bNO\bOR\bRE\bE\u2010\b\u2010\r\n       P\bPL\bLA\bAC\bCE\bE  flag to avoid the hazard described above when attempting to cre\u2010\r\n       ate a mapping at a fixed address that has not been reserved by a preex\u2010\r\n       isting mapping.\r\n\r\n   T\bTi\bim\bme\bes\bst\bta\bam\bmp\bps\bs c\bch\bha\ban\bng\bge\bes\bs f\bfo\bor\br f\bfi\bil\ble\be-\b-b\bba\bac\bck\bke\bed\bd m\bma\bap\bpp\bpi\bin\bng\bgs\bs\r\n       For file-backed mappings, the _\bs_\bt_\b__\ba_\bt_\bi_\bm_\be field for the mapped file may be\r\n       updated at any time between the m\bmm\bma\bap\bp() and the corresponding unmapping;\r\n       the  first  reference  to a mapped page will update the field if it has\r\n       not been already.\r\n\r\n       The _\bs_\bt_\b__\bc_\bt_\bi_\bm_\be and _\bs_\bt_\b__\bm_\bt_\bi_\bm_\be field for a file mapped with  P\bPR\bRO\bOT\bT_\b_W\bWR\bRI\bIT\bTE\bE  and\r\n       M\bMA\bAP\bP_\b_S\bSH\bHA\bAR\bRE\bED\bD  will be updated after a write to the mapped region, and be\u2010\r\n       fore a subsequent m\bms\bsy\byn\bnc\bc(2) with the M\bMS\bS_\b_S\bSY\bYN\bNC\bC or M\bMS\bS_\b_A\bAS\bSY\bYN\bNC\bC  flag,  if  one\r\n       occurs.\r\n\r\n   H\bHu\bug\bge\be p\bpa\bag\bge\be (\b(H\bHu\bug\bge\be T\bTL\bLB\bB)\b) m\bma\bap\bpp\bpi\bin\bng\bgs\bs\r\n       For mappings that employ huge pages, the requirements for the arguments\r\n       of m\bmm\bma\bap\bp() and m\bmu\bun\bnm\bma\bap\bp() differ somewhat from the requirements  for  map\u2010\r\n       pings that use the native system page size.\r\n\r\n       For m\bmm\bma\bap\bp(), _\bo_\bf_\bf_\bs_\be_\bt must be a multiple of the underlying huge page size.\r\n       The system automatically aligns _\bl_\be_\bn_\bg_\bt_\bh to be a multiple of the underly\u2010\r\n       ing huge page size.\r\n\r\n       For m\bmu\bun\bnm\bma\bap\bp(), _\ba_\bd_\bd_\br and _\bl_\be_\bn_\bg_\bt_\bh must both be a multiple of the underlying\r\n       huge page size.\r\n\r\n   C\bC l\bli\bib\bbr\bra\bar\bry\by/\b/k\bke\ber\brn\bne\bel\bl d\bdi\bif\bff\bfe\ber\bre\ben\bnc\bce\bes\bs\r\n       This page describes the interface provided by the glibc m\bmm\bma\bap\bp()  wrapper\r\n       function.   Originally, this function invoked a system call of the same\r\n       name.  Since kernel 2.4,  that  system  call  has  been  superseded  by\r\n       m\bmm\bma\bap\bp2\b2(2),  and  nowadays  the  glibc  m\bmm\bma\bap\bp()  wrapper  function invokes\r\n       m\bmm\bma\bap\bp2\b2(2) with a suitably adjusted value for _\bo_\bf_\bf_\bs_\be_\bt.\r\n\r\nB\bBU\bUG\bGS\bS\r\n       On Linux, there are no guarantees  like  those  suggested  above  under\r\n       M\bMA\bAP\bP_\b_N\bNO\bOR\bRE\bES\bSE\bER\bRV\bVE\bE.   By  default,  any  process can be killed at any moment\r\n       when the system runs out of memory.\r\n\r\n       In kernels before 2.6.7, the M\bMA\bAP\bP_\b_P\bPO\bOP\bPU\bUL\bLA\bAT\bTE\bE flag has effect only if  _\bp_\br_\bo_\bt\r\n       is specified as P\bPR\bRO\bOT\bT_\b_N\bNO\bON\bNE\bE.\r\n\r\n       SUSv3  specifies  that  m\bmm\bma\bap\bp() should fail if _\bl_\be_\bn_\bg_\bt_\bh is 0.  However, in\r\n       kernels before 2.6.12, m\bmm\bma\bap\bp() succeeded in this case:  no  mapping  was\r\n       created  and the call returned _\ba_\bd_\bd_\br.  Since kernel 2.6.12, m\bmm\bma\bap\bp() fails\r\n       with the error E\bEI\bIN\bNV\bVA\bAL\bL for this case.\r\n\r\n       POSIX specifies that the system shall always zero fill any partial page\r\n       at the end of the object and that system will never write any modifica\u2010\r\n       tion of the object beyond its end.  On Linux, when you  write  data  to\r\n       such  partial  page  after the end of the object, the data stays in the\r\n       page cache even after the file is closed and unmapped and  even  though\r\n       the  data  is never written to the file itself, subsequent mappings may\r\n       see the modified content.  In some cases, this could be fixed by  call\u2010\r\n       ing  m\bms\bsy\byn\bnc\bc(2)  before the unmap takes place; however, this doesn't work\r\n       on t\btm\bmp\bpf\bfs\bs(5) (for example, when using the POSIX shared memory  interface\r\n       documented in s\bsh\bhm\bm_\b_o\bov\bve\ber\brv\bvi\bie\bew\bw(7)).\r\n\r\nE\bEX\bXA\bAM\bMP\bPL\bLE\bE\r\n       The  following  program  prints part of the file specified in its first\r\n       command-line argument to standard output.  The range  of  bytes  to  be\r\n       printed  is  specified  via  offset and length values in the second and\r\n       third command-line arguments.  The program creates a memory mapping  of\r\n       the required pages of the file and then uses w\bwr\bri\bit\bte\be(2) to output the de\u2010\r\n       sired bytes.\r\n\r\n   P\bPr\bro\bog\bgr\bra\bam\bm s\bso\bou\bur\brc\bce\be\r\n       #include <sys/mman.h>\r\n       #include <sys/stat.h>\r\n       #include <fcntl.h>\r\n       #include <stdio.h>\r\n       #include <stdlib.h>\r\n       #include <unistd.h>\r\n\r\n       #define handle_error(msg) \\\r\n           do { perror(msg); exit(EXIT_FAILURE); } while (0)\r\n\r\n       int\r\n       main(int argc, char *argv[])\r\n       {\r\n           char *addr;\r\n           int fd;\r\n           struct stat sb;\r\n           off_t offset, pa_offset;\r\n           size_t length;\r\n           ssize_t s;\r\n\r\n           if (argc < 3 || argc > 4) {\r\n               fprintf(stderr, \"%s file offset [length]\\n\", argv[0]);\r\n               exit(EXIT_FAILURE);\r\n           }\r\n\r\n           fd = open(argv[1], O_RDONLY);\r\n           if (fd == -1)\r\n               handle_error(\"open\");\r\n\r\n           if (fstat(fd, &sb) == -1)           /* To obtain file size */\r\n               handle_error(\"fstat\");\r\n\r\n           offset = atoi(argv[2]);\r\n           pa_offset = offset & ~(sysconf(_SC_PAGE_SIZE) - 1);\r\n               /* offset for mmap() must be page aligned */\r\n\r\n           if (offset >= sb.st_size) {\r\n               fprintf(stderr, \"offset is past end of file\\n\");\r\n               exit(EXIT_FAILURE);\r\n           }\r\n\r\n           if (argc == 4) {\r\n               length = atoi(argv[3]);\r\n               if (offset + length > sb.st_size)\r\n                   length = sb.st_size - offset;\r\n                       /* Can't display bytes past end of file */\r\n\r\n           } else {    /* No length arg ==> display to end of file */\r\n               length = sb.st_size - offset;\r\n           }\r\n\r\n           addr = mmap(NULL, length + offset - pa_offset, PROT_READ,\r\n                       MAP_PRIVATE, fd, pa_offset);\r\n           if (addr == MAP_FAILED)\r\n               handle_error(\"mmap\");\r\n\r\n           s = write(STDOUT_FILENO, addr + offset - pa_offset, length);\r\n           if (s != length) {\r\n               if (s == -1)\r\n                   handle_error(\"write\");\r\n\r\n               fprintf(stderr, \"partial write\");\r\n               exit(EXIT_FAILURE);\r\n           }\r\n\r\n           munmap(addr, length + offset - pa_offset);\r\n           close(fd);\r\n\r\n           exit(EXIT_SUCCESS);\r\n       }\r\n\r\nS\bSE\bEE\bE A\bAL\bLS\bSO\bO\r\n       f\bft\btr\bru\bun\bnc\bca\bat\bte\be(2), g\bge\bet\btp\bpa\bag\bge\bes\bsi\biz\bze\be(2),  m\bme\bem\bmf\bfd\bd_\b_c\bcr\bre\bea\bat\bte\be(2),  m\bmi\bin\bnc\bco\bor\bre\be(2),  m\bml\blo\boc\bck\bk(2),\r\n       m\bmm\bma\bap\bp2\b2(2),  m\bmp\bpr\bro\bot\bte\bec\bct\bt(2), m\bmr\bre\bem\bma\bap\bp(2), m\bms\bsy\byn\bnc\bc(2), r\bre\bem\bma\bap\bp_\b_f\bfi\bil\ble\be_\b_p\bpa\bag\bge\bes\bs(2), s\bse\bet\btr\br\u2010\b\u2010\r\n       l\bli\bim\bmi\bit\bt(2), s\bsh\bhm\bma\bat\bt(2), u\bus\bse\ber\brf\bfa\bau\bul\blt\btf\bfd\bd(2), s\bsh\bhm\bm_\b_o\bop\bpe\ben\bn(3), s\bsh\bhm\bm_\b_o\bov\bve\ber\brv\bvi\bie\bew\bw(7)\r\n\r\n       The descriptions of the following files in  p\bpr\bro\boc\bc(5):  _\b/_\bp_\br_\bo_\bc_\b/_\b[_\bp_\bi_\bd_\b]_\b/_\bm_\ba_\bp_\bs,\r\n       _\b/_\bp_\br_\bo_\bc_\b/_\b[_\bp_\bi_\bd_\b]_\b/_\bm_\ba_\bp_\b__\bf_\bi_\bl_\be_\bs, and _\b/_\bp_\br_\bo_\bc_\b/_\b[_\bp_\bi_\bd_\b]_\b/_\bs_\bm_\ba_\bp_\bs.\r\n\r\n       B.O. Gallmeister, POSIX.4, O'Reilly, pp. 128\u2013129 and 389\u2013391.\r\n\r\nC\bCO\bOL\bLO\bOP\bPH\bHO\bON\bN\r\n       This  page  is  part of release 5.05 of the Linux _\bm_\ba_\bn_\b-_\bp_\ba_\bg_\be_\bs project.  A\r\n       description of the project, information about reporting bugs,  and  the\r\n       latest     version     of     this    page,    can    be    found    at\r\n       https://www.kernel.org/doc/man-pages/.\r\n\r\nLinux                             2019-10-10                           MMAP(2)\r\n$ "}]}}}, "version_major": 2, "version_minor": 0}
</script>


    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./intro"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="purpose.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">2. </span>Purpose of operating systems</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="services.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Operating System Services</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Angela Demke Brown, Orran Krieger & Larry Woodman<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>